templates:
  basicMessage: '{{ printf "%-46s" .Name }} {{ printf "%-46s" .PodName}} {{ .Message }}'
  basicMessageAndPodInfo: '{{ printf "%s/%s" .Namespace .PodName }} {{ .Message }}'
  withJq: '{{ printf "%-46s" .Name }} {{ jq .Message .Vars.jqtemplate }}'
  withJqAndPodInfo: '{{ printf "%s/%s" .Namespace .PodName }} {{ jq .Message .Vars.jqtemplate }}'
  hpipeMessage: '{{ printf "%-20s" .Name }} {{ .Message }}'
  toJson: |
    {{with $mm := jq .Message .Vars.jqRoot -}}
      {{- mapAdd $mm "name" $.Name | jsonEncode -}}
    {{- else -}}
      NONE
    {{- end -}}
  withTextMessage: '{{ template "basicMessage" . }}'
  withJsonMessage: '{{ template "withJq" . }}'
vars:
  jqtemplate: >
    "\(.timestamp) \(.level) \(.message) \(."error.stack_trace" // "")"
  jqRoot: .
logs:
  - namespace: "authority1"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority1/authentication-provider"
    labels: "app.kubernetes.io/name=authentication-provider"
    tags: ["authority", "env:authority1", "dsauthority1", "type:authority", "name:authentication-provider"]
  - namespace: "authority1"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority1/identity-provider"
    labels: "app.kubernetes.io/name=identity-provider"
    tags: ["authority", "env:authority1", "dsauthority1", "type:authority", "name:identity-provider"]
  - namespace: "authority1"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority1/onboarding"
    labels: "app.kubernetes.io/name=onboarding"
    tags: ["authority", "env:authority1", "dsauthority1", "type:authority", "name:onboarding"]
  - namespace: "authority1"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority1/security-attributes-provider"
    labels: "app.kubernetes.io/name=security-attributes-provider"
    tags: ["authority", "env:authority1", "dsauthority1", "type:authority", "name:security-attributes-provider"]
  - namespace: "authority1"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority1/tier1-gateway"
    labels: "app.kubernetes.io/name=tier1-gateway"
    tags: ["authority", "env:authority1", "dsauthority1", "type:authority", "name:tier1-gateway"]
  - namespace: "authority1"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority1/tier2-gateway"
    labels: "app.kubernetes.io/name=tier2-gateway"
    tags: ["authority", "env:authority1", "dsauthority1", "type:authority", "name:tier2-gateway"]
  - namespace: "authority1"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority1/users-roles"
    labels: "app.kubernetes.io/name=users-roles"
    tags: ["authority", "env:authority1", "dsauthority1", "type:authority", "name:users-roles"]
  - namespace: "authority3"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority3/authentication-provider"
    labels: "app.kubernetes.io/name=authentication-provider"
    tags: ["authority", "env:authority3", "dsauthority3", "type:authority", "name:authentication-provider"]
  - namespace: "authority3"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority3/identity-provider"
    labels: "app.kubernetes.io/name=identity-provider"
    tags: ["authority", "env:authority3", "dsauthority3", "type:authority", "name:identity-provider"]
  - namespace: "authority3"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority3/onboarding"
    labels: "app.kubernetes.io/name=onboarding"
    tags: ["authority", "env:authority3", "dsauthority3", "type:authority", "name:onboarding"]
  - namespace: "authority3"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority3/security-attributes-provider"
    labels: "app.kubernetes.io/name=security-attributes-provider"
    tags: ["authority", "env:authority3", "dsauthority3", "type:authority", "name:security-attributes-provider"]
  - namespace: "authority3"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority3/tier1-gateway"
    labels: "app.kubernetes.io/name=tier1-gateway"
    tags: ["authority", "env:authority3", "dsauthority3", "type:authority", "name:tier1-gateway"]
  - namespace: "authority3"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority3/tier2-gateway"
    labels: "app.kubernetes.io/name=tier2-gateway"
    tags: ["authority", "env:authority3", "dsauthority3", "type:authority", "name:tier2-gateway"]
  - namespace: "authority3"
    template: '{{ template "withJsonMessage" . }}'
    name: "authority3/users-roles"
    labels: "app.kubernetes.io/name=users-roles"
    tags: ["authority", "env:authority3", "dsauthority3", "type:authority", "name:users-roles"]
  - namespace: "consumer01"
    template: '{{ template "withJsonMessage" . }}'
    name: "consumer01/authentication-provider"
    labels: "app.kubernetes.io/name=authentication-provider"
    tags: ["participant", "env:consumer01", "type:consumer", "name:authentication-provider"]
  - namespace: "consumer01"
    template: '{{ template "withJsonMessage" . }}'
    name: "consumer01/echo-backend"
    labels: "app.kubernetes.io/name=echo-backend"
    tags: ["participant", "env:consumer01", "type:consumer", "name:echo-backend"]
  - namespace: "consumer01"
    template: '{{ template "withJq" . }}'
    name: "consumer01/tier1-gateway"
    labels: "app.kubernetes.io/name=tier1-gateway"
    tags: ["participant", "env:consumer01", "type:consumer", "name:tier1-gateway"]
  - namespace: "consumer01"
    template: '{{ template "withJq" . }}'
    name: "consumer01/tier2-gateway"
    labels: "app.kubernetes.io/name=tier2-gateway"
    tags: ["participant", "env:consumer01", "type:consumer", "name:tier2-gateway"]
  - namespace: "consumer01"
    template: '{{ template "withJsonMessage" . }}'
    name: "consumer01/users-roles"
    labels: "app.kubernetes.io/name=users-roles"
    tags: ["participant", "env:consumer01", "type:consumer", "name:users-roles"]
  - namespace: "consumer02"
    template: '{{ template "withJsonMessage" . }}'
    name: "consumer02/authentication-provider"
    labels: "app.kubernetes.io/name=authentication-provider"
    tags: ["participant", "env:consumer02", "type:consumer", "name:authentication-provider"]
  - namespace: "consumer02"
    template: '{{ template "withJsonMessage" . }}'
    name: "consumer02/echo-backend"
    labels: "app.kubernetes.io/name=echo-backend"
    tags: ["participant", "env:consumer02", "type:consumer", "name:echo-backend"]
  - namespace: "consumer02"
    template: '{{ template "withJq" . }}'
    name: "consumer02/tier1-gateway"
    labels: "app.kubernetes.io/name=tier1-gateway"
    tags: ["participant", "env:consumer02", "type:consumer", "name:tier1-gateway"]
  - namespace: "consumer02"
    template: '{{ template "withJq" . }}'
    name: "consumer02/tier2-gateway"
    labels: "app.kubernetes.io/name=tier2-gateway"
    tags: ["participant", "env:consumer02", "type:consumer", "name:tier2-gateway"]
  - namespace: "consumer02"
    template: '{{ template "withJsonMessage" . }}'
    name: "consumer02/users-roles"
    labels: "app.kubernetes.io/name=users-roles"
    tags: ["participant", "env:consumer02", "type:consumer", "name:users-roles"]
  - namespace: "consumer03"
    template: '{{ template "withJsonMessage" . }}'
    name: "consumer03/authentication-provider"
    labels: "app.kubernetes.io/name=authentication-provider"
    tags: ["participant", "env:consumer03", "type:consumer", "name:authentication-provider"]
  - namespace: "consumer03"
    template: '{{ template "withJsonMessage" . }}'
    name: "consumer03/echo-backend"
    labels: "app.kubernetes.io/name=echo-backend"
    tags: ["participant", "env:consumer03", "type:consumer", "name:echo-backend"]
  - namespace: "consumer03"
    template: '{{ template "withJq" . }}'
    name: "consumer03/tier1-gateway"
    labels: "app.kubernetes.io/name=tier1-gateway"
    tags: ["participant", "env:consumer03", "type:consumer", "name:tier1-gateway"]
  - namespace: "consumer03"
    template: '{{ template "withJq" . }}'
    name: "consumer03/tier2-gateway"
    labels: "app.kubernetes.io/name=tier2-gateway"
    tags: ["participant", "env:consumer03", "type:consumer", "name:tier2-gateway"]
  - namespace: "consumer03"
    template: '{{ template "withJsonMessage" . }}'
    name: "consumer03/users-roles"
    labels: "app.kubernetes.io/name=users-roles"
    tags: ["participant", "env:consumer03", "type:consumer", "name:users-roles"]
  - namespace: "dataprovider01"
    template: '{{ template "withJsonMessage" . }}'
    name: "dataprovider01/authentication-provider"
    labels: "app.kubernetes.io/name=authentication-provider"
    tags: ["participant", "env:dataprovider01", "type:consumer", "name:authentication-provider"]
  - namespace: "dataprovider01"
    template: '{{ template "withJsonMessage" . }}'
    name: "dataprovider01/echo-backend"
    labels: "app.kubernetes.io/name=echo-backend"
    tags: ["participant", "env:dataprovider01", "type:consumer", "name:echo-backend"]
  - namespace: "dataprovider01"
    template: '{{ template "withJq" . }}'
    name: "dataprovider01/tier1-gateway"
    labels: "app.kubernetes.io/name=tier1-gateway"
    tags: ["participant", "env:dataprovider01", "type:consumer", "name:tier1-gateway"]
  - namespace: "dataprovider01"
    template: '{{ template "withJq" . }}'
    name: "dataprovider01/tier2-gateway"
    labels: "app.kubernetes.io/name=tier2-gateway"
    tags: ["participant", "env:dataprovider01", "type:consumer", "name:tier2-gateway"]
  - namespace: "dataprovider01"
    template: '{{ template "withJsonMessage" . }}'
    name: "dataprovider01/users-roles"
    labels: "app.kubernetes.io/name=users-roles"
    tags: ["participant", "env:dataprovider01", "type:consumer", "name:users-roles"]
  - namespace: "dataprovider03"
    template: '{{ template "withJsonMessage" . }}'
    name: "dataprovider03/authentication-provider"
    labels: "app.kubernetes.io/name=authentication-provider"
    tags: ["participant", "env:dataprovider03", "type:consumer", "name:authentication-provider"]
  - namespace: "dataprovider03"
    template: '{{ template "withJsonMessage" . }}'
    name: "dataprovider03/echo-backend"
    labels: "app.kubernetes.io/name=echo-backend"
    tags: ["participant", "env:dataprovider03", "type:consumer", "name:echo-backend"]
  - namespace: "dataprovider03"
    template: '{{ template "withJq" . }}'
    name: "dataprovider03/tier1-gateway"
    labels: "app.kubernetes.io/name=tier1-gateway"
    tags: ["participant", "env:dataprovider03", "type:consumer", "name:tier1-gateway"]
  - namespace: "dataprovider03"
    template: '{{ template "withJq" . }}'
    name: "dataprovider03/tier2-gateway"
    labels: "app.kubernetes.io/name=tier2-gateway"
    tags: ["participant", "env:dataprovider03", "type:consumer", "name:tier2-gateway"]
  - namespace: "dataprovider03"
    template: '{{ template "withJsonMessage" . }}'
    name: "dataprovider03/users-roles"
    labels: "app.kubernetes.io/name=users-roles"
    tags: ["participant", "env:dataprovider03", "type:consumer", "name:users-roles"]
